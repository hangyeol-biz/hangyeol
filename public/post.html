<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-74DD47HZVC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-74DD47HZVC');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO 기본 -->
    <title>게시글 | 한결 컨설팅 한결</title>
    <meta name="description" content="한결 컨설팅 한결 - 정부정책자금 관련 공지사항, 뉴스, 정보를 확인하세요.">
    <meta name="robots" content="index, follow">
    <link rel="icon" type="image/png" href="/favicon.png">

    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="한결 컨설팅 한결">
    <meta property="og:title" content="게시글 | 한결 컨설팅 한결">
    <meta property="og:description" content="한결 컨설팅 한결 - 정부정책자금 관련 공지사항, 뉴스, 정보를 확인하세요.">
    <meta property="og:image" content="https://biz-hangyeol.co.kr/og/og-home.png">
    <meta property="og:locale" content="ko_KR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="게시글 | 한결 컨설팅 한결">
    <meta name="twitter:description" content="한결 컨설팅 한결 - 정부정책자금 관련 공지사항, 뉴스, 정보를 확인하세요.">
    <meta name="twitter:image" content="https://biz-hangyeol.co.kr/og/og-home.png">

    <!-- Canonical -->
    <link rel="canonical" href="https://biz-hangyeol.co.kr/post.html">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Post Page Styles -->
    <style>
    /* Post Detail Page */
    .hangyeol-post-section {
        background: linear-gradient(180deg, #F8FAFC 0%, #EFF6FF 100%);
        min-height: calc(100vh - 200px);
        padding: 40px 0 80px;
    }

    /* 2컬럼 레이아웃 */
    .hangyeol-post-layout {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: grid;
        grid-template-columns: 1fr;
        gap: 40px;
    }

    @media (min-width: 1024px) {
        .hangyeol-post-layout {
            grid-template-columns: 1fr 300px;
        }
    }

    .hangyeol-post-main {
        min-width: 0;
    }

    /* Breadcrumb */
    .hangyeol-post-breadcrumb {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 24px;
        font-size: 14px;
        color: #6B7280;
    }

    .hangyeol-post-breadcrumb a {
        color: #6B7280;
        text-decoration: none;
        transition: color 0.3s ease;
    }

    .hangyeol-post-breadcrumb a:hover {
        color: #0F4C81;
    }

    .hangyeol-post-breadcrumb svg {
        width: 16px;
        height: 16px;
        fill: #9CA3AF;
    }

    .hangyeol-post-breadcrumb span.current {
        color: #1F2937;
        font-weight: 500;
    }

    /* Post Card */
    .hangyeol-post-card {
        background: #FFFFFF;
        border-radius: 20px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        overflow: hidden;
    }

    /* Post Header */
    .hangyeol-post-header {
        padding: 40px 40px 30px;
        border-bottom: 1px solid #E5E7EB;
    }

    .hangyeol-post-category {
        display: inline-block;
        padding: 6px 16px;
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        border-radius: 20px;
        font-size: 13px;
        font-weight: 600;
        color: #FFFFFF;
        margin-bottom: 16px;
    }

    .hangyeol-post-category.notice {
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
    }

    .hangyeol-post-category.news {
        background: linear-gradient(135deg, #059669 0%, #10B981 100%);
    }

    .hangyeol-post-category.info {
        background: linear-gradient(135deg, #D97706 0%, #F59E0B 100%);
    }

    .hangyeol-post-title {
        font-size: 28px;
        font-weight: 700;
        color: #1F2937;
        line-height: 1.4;
        margin-bottom: 12px;
        word-break: keep-all;
    }

    .hangyeol-post-subtitle {
        font-size: 16px;
        color: #6B7280;
        line-height: 1.6;
        margin-bottom: 20px;
    }

    .hangyeol-post-meta {
        display: flex;
        align-items: center;
        gap: 24px;
        font-size: 14px;
        color: #6B7280;
        padding-top: 20px;
        border-top: 1px solid #E5E7EB;
    }

    .hangyeol-post-meta-item {
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .hangyeol-post-meta-item svg {
        width: 18px;
        height: 18px;
        fill: #9CA3AF;
    }

    @media (min-width: 768px) {
        .hangyeol-post-title {
            font-size: 32px;
        }
        .hangyeol-post-subtitle {
            font-size: 17px;
        }
    }

    /* Post Thumbnail */
    .hangyeol-post-thumbnail-wrap {
        width: 100%;
        border-bottom: 1px solid #E5E7EB;
    }

    .hangyeol-post-thumbnail {
        width: 100%;
        max-height: 500px;
        object-fit: cover;
        display: block;
    }

    /* Post Content */
    .hangyeol-post-content {
        padding: 40px;
    }

    .hangyeol-post-body {
        font-size: 16px;
        line-height: 1.9;
        color: #374151;
    }

    .hangyeol-post-body p {
        margin-bottom: 16px;
    }

    /* 섹션 제목 (■) */
    .hangyeol-post-body .section-title {
        color: #0F4C81;
        font-size: 18px;
        font-weight: 700;
        margin: 32px 0 16px 0;
        padding-bottom: 8px;
        border-bottom: 2px solid #E5E7EB;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .hangyeol-post-body .section-title::before {
        content: '';
        width: 4px;
        height: 20px;
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        border-radius: 2px;
    }

    /* 숫자 리스트 */
    .hangyeol-post-body .number-list {
        list-style: none;
        padding: 0;
        margin: 16px 0;
    }

    .hangyeol-post-body .number-list li {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        margin-bottom: 12px;
        font-size: 15px;
        line-height: 1.6;
    }

    .hangyeol-post-body .number-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 24px;
        height: 24px;
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        color: #fff;
        border-radius: 50%;
        font-size: 12px;
        font-weight: 700;
        flex-shrink: 0;
    }

    /* 불릿 리스트 */
    .hangyeol-post-body .bullet-list {
        list-style: none;
        padding: 0;
        margin: 16px 0;
    }

    .hangyeol-post-body .bullet-list li {
        position: relative;
        padding-left: 20px;
        margin-bottom: 10px;
        font-size: 15px;
        line-height: 1.6;
    }

    .hangyeol-post-body .bullet-list li::before {
        content: '';
        position: absolute;
        left: 0;
        top: 10px;
        width: 6px;
        height: 6px;
        background: #0F4C81;
        border-radius: 50%;
    }

    /* 하위 항목 */
    .hangyeol-post-body .sub-item {
        margin-left: 36px;
        padding: 4px 0;
        color: #6B7280;
        font-size: 14px;
        border-left: 2px solid #E5E7EB;
        padding-left: 12px;
    }

    .hangyeol-post-body blockquote {
        margin: 24px 0;
        padding: 20px 25px;
        background: #F3F4F6;
        border-left: 4px solid #0F4C81;
        border-radius: 0 8px 8px 0;
        font-style: italic;
        color: #4B5563;
    }

    .hangyeol-post-body strong {
        color: #0F4C81;
        font-weight: 600;
    }

    /* Post CTA Section */
    .hangyeol-post-cta-section {
        margin-top: 40px;
        padding: 40px;
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        border-radius: 20px;
        text-align: center;
    }

    .hangyeol-post-cta-icon {
        width: 60px;
        height: 60px;
        margin: 0 auto 20px;
        background: rgba(255, 255, 255, 0.15);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .hangyeol-post-cta-icon svg {
        width: 32px;
        height: 32px;
        fill: #FFFFFF;
    }

    .hangyeol-post-cta-title {
        font-size: 24px;
        font-weight: 700;
        color: #FFFFFF;
        margin: 0 0 12px 0;
    }

    .hangyeol-post-cta-desc {
        font-size: 15px;
        color: rgba(255, 255, 255, 0.9);
        line-height: 1.7;
        margin: 0 0 28px 0;
    }

    /* 데스크탑에서 모바일 전용 줄바꿈 숨김 */
    .hangyeol-post-cta-desc .mobile-br {
        display: none;
    }

    .hangyeol-post-cta-desc .desktop-hide {
        display: inline;
    }

    .hangyeol-post-cta-buttons {
        display: flex;
        justify-content: center;
        gap: 16px;
        flex-wrap: wrap;
    }

    .hangyeol-post-cta-phone {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 14px 28px;
        background: rgba(255, 255, 255, 0.15);
        border: 2px solid rgba(255, 255, 255, 0.5);
        border-radius: 30px;
        color: #FFFFFF;
        font-size: 16px;
        font-weight: 700;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .hangyeol-post-cta-phone:hover {
        background: rgba(255, 255, 255, 0.25);
        border-color: #FFFFFF;
        transform: translateY(-2px);
    }

    .hangyeol-post-cta-phone svg {
        width: 20px;
        height: 20px;
        fill: currentColor;
    }

    .hangyeol-post-cta-submit {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 14px 28px;
        background: #FFFFFF;
        border-radius: 30px;
        color: #0F4C81;
        font-size: 15px;
        font-weight: 700;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .hangyeol-post-cta-submit:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    }

    .hangyeol-post-cta-submit svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
    }

    @media (max-width: 768px) {
        .hangyeol-post-cta-section {
            margin-top: 30px;
            padding: 30px 20px;
        }

        .hangyeol-post-cta-icon {
            width: 50px;
            height: 50px;
            margin-bottom: 16px;
        }

        .hangyeol-post-cta-icon svg {
            width: 26px;
            height: 26px;
        }

        .hangyeol-post-cta-title {
            font-size: 20px;
        }

        .hangyeol-post-cta-desc {
            font-size: 14px;
            margin-bottom: 24px;
        }

        /* 모바일에서 줄바꿈 표시 */
        .hangyeol-post-cta-desc .mobile-br {
            display: inline;
        }

        .hangyeol-post-cta-desc .desktop-hide {
            display: none;
        }

        .hangyeol-post-cta-buttons {
            flex-direction: column;
            gap: 12px;
        }

        .hangyeol-post-cta-phone,
        .hangyeol-post-cta-submit {
            width: 100%;
            justify-content: center;
            padding: 14px 24px;
        }
    }

    /* Post Footer */
    .hangyeol-post-footer {
        padding: 30px 40px;
        border-top: 1px solid #E5E7EB;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
    }

    .hangyeol-post-back-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 12px 24px;
        background: #FFFFFF;
        border: 2px solid #0F4C81;
        border-radius: 30px;
        color: #0F4C81;
        font-size: 15px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .hangyeol-post-back-btn:hover {
        background: #0F4C81;
        color: #FFFFFF;
    }

    .hangyeol-post-back-btn svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
    }

    .hangyeol-post-cta-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 12px 24px;
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        border: none;
        border-radius: 30px;
        color: #FFFFFF;
        font-size: 15px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(15, 76, 129, 0.3);
    }

    .hangyeol-post-cta-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(15, 76, 129, 0.4);
    }

    .hangyeol-post-cta-btn svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
    }

    /* PC에서 본문 하단 목록으로 버튼 숨김 (사이드바에 있음) */
    @media (min-width: 1024px) {
        .hangyeol-post-footer .hangyeol-post-back-btn {
            display: none;
        }
        .hangyeol-post-footer {
            justify-content: flex-end;
        }
    }

    /* ===== 사이드바 ===== */
    .hangyeol-post-sidebar {
        display: none;
    }

    @media (min-width: 1024px) {
        .hangyeol-post-sidebar {
            display: block;
        }
    }

    .hangyeol-sidebar-sticky {
        position: sticky;
        top: 100px;
    }

    .hangyeol-sidebar-card {
        background: #FFFFFF;
        border-radius: 16px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        padding: 24px;
        margin-bottom: 20px;
    }

    .hangyeol-sidebar-title {
        font-size: 14px;
        font-weight: 700;
        color: #0F4C81;
        margin: 0 0 16px 0;
        padding-bottom: 12px;
        border-bottom: 2px solid #E5E7EB;
    }

    /* 글 정보 리스트 */
    .hangyeol-info-list {
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .hangyeol-info-list li {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #F3F4F6;
        font-size: 13px;
    }

    .hangyeol-info-list li:last-child {
        border-bottom: none;
    }

    .hangyeol-info-label {
        color: #6B7280;
    }

    .hangyeol-info-value {
        color: #1F2937;
        font-weight: 600;
    }

    /* 공유 버튼 */
    .hangyeol-share-buttons {
        display: flex;
        gap: 10px;
    }

    .hangyeol-share-btn {
        width: 44px;
        height: 44px;
        border-radius: 12px;
        border: 1px solid #E5E7EB;
        background: #F9FAFB;
        color: #6B7280;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .hangyeol-share-btn:hover {
        background: #0F4C81;
        border-color: #0F4C81;
        color: #FFFFFF;
        transform: translateY(-2px);
    }

    .hangyeol-share-btn svg {
        width: 20px;
        height: 20px;
        fill: currentColor;
    }

    /* 목록 버튼 */
    .hangyeol-sidebar-back {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        width: 100%;
        padding: 14px;
        background: #FFFFFF;
        border: 2px solid #0F4C81;
        border-radius: 12px;
        color: #0F4C81;
        font-size: 14px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .hangyeol-sidebar-back:hover {
        background: #0F4C81;
        color: #FFFFFF;
    }

    .hangyeol-sidebar-back svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
    }

    /* ===== 관련 게시글 ===== */
    .hangyeol-related-section {
        margin-top: 50px;
        padding-top: 40px;
        border-top: 2px solid #E5E7EB;
    }

    .hangyeol-related-title {
        font-size: 22px;
        font-weight: 700;
        color: #1F2937;
        margin: 0 0 24px 0;
    }

    .hangyeol-related-title span {
        color: #0F4C81;
    }

    .hangyeol-related-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
    }

    @media (min-width: 640px) {
        .hangyeol-related-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (min-width: 1024px) {
        .hangyeol-related-grid {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    .hangyeol-related-card {
        background: #FFFFFF;
        border-radius: 16px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        overflow: hidden;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .hangyeol-related-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
    }

    .hangyeol-related-thumb {
        width: 100%;
        height: 140px;
        background: linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }

    .hangyeol-related-thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .hangyeol-related-thumb svg {
        width: 40px;
        height: 40px;
        fill: #93C5FD;
    }

    .hangyeol-related-content {
        padding: 16px;
    }

    .hangyeol-related-category {
        display: inline-block;
        padding: 4px 10px;
        background: linear-gradient(135deg, #0F4C81 0%, #1A73E8 100%);
        border-radius: 12px;
        font-size: 11px;
        font-weight: 600;
        color: #FFFFFF;
        margin-bottom: 8px;
    }

    .hangyeol-related-card-title {
        font-size: 15px;
        font-weight: 600;
        color: #1F2937;
        line-height: 1.4;
        margin: 0;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* ===== 모바일 하단 바 ===== */
    .hangyeol-mobile-bar {
        display: flex;
        position: fixed;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: calc(100% - 32px);
        max-width: 600px;
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(10px);
        border: 1px solid #E5E7EB;
        border-bottom: none;
        border-radius: 16px 16px 0 0;
        padding: 12px 20px;
        z-index: 1000;
        gap: 12px;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.08);
    }

    @media (min-width: 1024px) {
        .hangyeol-mobile-bar {
            display: none;
        }
    }

    .hangyeol-mobile-back-btn {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 14px;
        background: #FFFFFF;
        border: 2px solid #0F4C81;
        border-radius: 12px;
        color: #0F4C81;
        font-size: 14px;
        font-weight: 600;
        text-decoration: none;
    }

    .hangyeol-mobile-share-btn {
        width: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #F3F4F6;
        border: 1px solid #E5E7EB;
        border-radius: 12px;
        color: #6B7280;
        cursor: pointer;
    }

    .hangyeol-mobile-share-btn:hover {
        background: #0F4C81;
        border-color: #0F4C81;
        color: #FFFFFF;
    }

    .hangyeol-mobile-bar svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
    }

    /* Loading State */
    .hangyeol-post-loading {
        text-align: center;
        padding: 100px 20px;
        color: #6B7280;
    }

    .hangyeol-post-loading .spinner {
        width: 50px;
        height: 50px;
        border: 4px solid #E5E7EB;
        border-top-color: #0F4C81;
        border-radius: 50%;
        animation: postSpin 1s linear infinite;
        margin: 0 auto 20px;
    }

    @keyframes postSpin {
        to { transform: rotate(360deg); }
    }

    /* Error State */
    .hangyeol-post-error {
        text-align: center;
        padding: 100px 20px;
        color: #6B7280;
    }

    .hangyeol-post-error svg {
        width: 80px;
        height: 80px;
        fill: #D1D5DB;
        margin-bottom: 20px;
    }

    .hangyeol-post-error h3 {
        font-size: 24px;
        font-weight: 700;
        color: #1F2937;
        margin-bottom: 10px;
    }

    .hangyeol-post-error p {
        margin-bottom: 30px;
    }

    /* Toast 알림 */
    .hangyeol-toast {
        position: fixed;
        bottom: 100px;
        left: 50%;
        transform: translateX(-50%) translateY(20px);
        background: #1F2937;
        color: #FFFFFF;
        padding: 14px 28px;
        border-radius: 30px;
        font-size: 14px;
        font-weight: 500;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 2000;
    }

    .hangyeol-toast.show {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(0);
    }

    /* ===== 인라인 레이아웃 지원 ===== */
    /* Grid/Flex 컨테이너 내의 빈 p 태그 숨기기 */
    .hangyeol-post-body [style*="display:grid"] > p:empty,
    .hangyeol-post-body [style*="display: grid"] > p:empty,
    .hangyeol-post-body [style*="display:flex"] > p:empty,
    .hangyeol-post-body [style*="display: flex"] > p:empty,
    .hangyeol-post-body [style*="grid-template-columns"] > p:empty {
        display: none !important;
        margin: 0 !important;
        padding: 0 !important;
        height: 0 !important;
        line-height: 0 !important;
    }

    /* 중첩된 컨테이너 내의 빈 p 태그도 처리 */
    .hangyeol-post-body [style*="display:grid"] [style*="display:flex"] > p:empty,
    .hangyeol-post-body [style*="display:flex"] [style*="display:flex"] > p:empty {
        display: none !important;
    }

    /* Responsive */
    @media (max-width: 768px) {
        .hangyeol-post-section {
            padding: 20px 0 100px;
        }

        .hangyeol-post-layout {
            padding: 0 16px;
        }

        .hangyeol-post-breadcrumb {
            margin-bottom: 16px;
            font-size: 13px;
        }

        .hangyeol-post-header {
            padding: 24px 20px 20px;
        }

        .hangyeol-post-title {
            font-size: 22px;
        }

        .hangyeol-post-subtitle {
            font-size: 14px;
            margin-bottom: 16px;
        }

        .hangyeol-post-meta {
            flex-wrap: wrap;
            gap: 12px;
            font-size: 13px;
        }

        .hangyeol-post-content {
            padding: 24px 20px;
        }

        .hangyeol-post-body {
            font-size: 15px;
            line-height: 1.8;
        }

        .hangyeol-post-footer {
            padding: 20px;
            flex-direction: column;
            gap: 12px;
        }

        .hangyeol-post-back-btn,
        .hangyeol-post-cta-btn {
            width: 100%;
            justify-content: center;
        }

        .hangyeol-related-section {
            margin-top: 30px;
            padding-top: 30px;
        }

        .hangyeol-related-title {
            font-size: 18px;
        }
    }
    </style>
</head>
<body>

<!-- ================================================
     HEADER
     ================================================ -->
<header class="hangyeol-header">
    <div class="hangyeol-header-container">
        <div class="hangyeol-header-main">
            <a href="index.html" class="hangyeol-logo">
                <img src="logo.png" alt="한결 한결 컨설팅" class="hangyeol-logo-image" data-image-id="logo">
            </a>

            <nav class="hangyeol-nav">
                <ul class="hangyeol-nav-list">
                    <li class="hangyeol-nav-item"><a href="index.html">홈</a></li>
                    <li class="hangyeol-nav-item"><a href="company.html">회사소개</a></li>
                    <li class="hangyeol-nav-item"><a href="process.html">진행과정</a></li>
                    <li class="hangyeol-nav-item"><a href="fund.html">자금상담</a></li>
                    <li class="hangyeol-nav-item"><a href="pro.html">전문서비스</a></li>
                    <li class="hangyeol-nav-item"><a href="mkt.html">온라인마케팅</a></li>
                </ul>
            </nav>

            <div class="hangyeol-header-cta">
                <a href="process.html#form" class="hangyeol-btn-header-cta">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
                    <span>무료심사</span>
                </a>
            </div>

            <button class="hangyeol-mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="메뉴 열기">
                <svg viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
            </button>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div class="hangyeol-mobile-menu" id="hangyeolMobileMenu">
        <div class="hangyeol-mobile-menu-header">
            <span class="hangyeol-mobile-menu-title">메뉴</span>
            <button class="hangyeol-mobile-menu-close" onclick="toggleMobileMenu()" aria-label="메뉴 닫기">
                <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
            </button>
        </div>
        <nav>
            <ul class="hangyeol-mobile-nav-list">
                <li class="hangyeol-mobile-nav-item"><a href="index.html" onclick="toggleMobileMenu()">홈</a></li>
                <li class="hangyeol-mobile-nav-item"><a href="company.html" onclick="toggleMobileMenu()">회사소개</a></li>
                <li class="hangyeol-mobile-nav-item"><a href="process.html" onclick="toggleMobileMenu()">진행과정</a></li>
                <li class="hangyeol-mobile-nav-item"><a href="fund.html" onclick="toggleMobileMenu()">자금상담</a></li>
                <li class="hangyeol-mobile-nav-item"><a href="pro.html" onclick="toggleMobileMenu()">전문서비스</a></li>
                <li class="hangyeol-mobile-nav-item"><a href="mkt.html" onclick="toggleMobileMenu()">온라인마케팅</a></li>
            </ul>
        </nav>
    </div>

    <div class="hangyeol-mobile-overlay" id="hangyeolMobileOverlay" onclick="toggleMobileMenu()"></div>
</header>

<!-- ================================================
     POST DETAIL SECTION
     ================================================ -->
<section class="hangyeol-post-section">
    <!-- Loading State -->
    <div class="hangyeol-post-loading" id="post-loading">
        <div class="spinner"></div>
        <p>게시글을 불러오는 중...</p>
    </div>

    <!-- Error State -->
    <div class="hangyeol-post-error" id="post-error" style="display: none;">
        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
        <h3>게시글을 찾을 수 없습니다</h3>
        <p>요청하신 게시글이 존재하지 않거나 삭제되었습니다.</p>
        <a href="process.html#board" class="hangyeol-post-back-btn">
            <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
            <span>목록으로 돌아가기</span>
        </a>
    </div>

    <!-- 2컬럼 레이아웃 -->
    <div class="hangyeol-post-layout" id="post-layout" style="display: none;">
        <!-- 메인 콘텐츠 -->
        <main class="hangyeol-post-main">
            <!-- Breadcrumb -->
            <div class="hangyeol-post-breadcrumb">
                <a href="index.html">홈</a>
                <svg viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                <a href="process.html#board">공지사항 & 뉴스</a>
                <svg viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
                <span class="current" id="breadcrumb-category">게시글</span>
            </div>

            <!-- Post Card -->
            <article class="hangyeol-post-card" id="post-card">
                <div class="hangyeol-post-header">
                    <span class="hangyeol-post-category" id="post-category">공지</span>
                    <h1 class="hangyeol-post-title" id="post-title">게시글 제목</h1>
                    <p class="hangyeol-post-subtitle" id="post-subtitle">게시글 요약이 여기에 표시됩니다.</p>
                    <div class="hangyeol-post-meta">
                        <div class="hangyeol-post-meta-item">
                            <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            <span>한결</span>
                        </div>
                        <div class="hangyeol-post-meta-item">
                            <svg viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/></svg>
                            <span id="post-date">2025.01.01</span>
                        </div>
                        <div class="hangyeol-post-meta-item">
                            <svg viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></svg>
                            <span id="post-views">조회 0</span>
                        </div>
                    </div>
                </div>

                <div class="hangyeol-post-thumbnail-wrap" id="post-thumbnail-wrap" style="display: none;">
                    <img class="hangyeol-post-thumbnail" id="post-thumbnail" src="" alt="">
                </div>

                <div class="hangyeol-post-content">
                    <div class="hangyeol-post-body" id="post-body"></div>

                    <!-- 상담신청 CTA -->
                    <div class="hangyeol-post-cta-section">
                        <div class="hangyeol-post-cta-icon">
                            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        </div>
                        <h3 class="hangyeol-post-cta-title">더 자세한 사항이 궁금하신가요?</h3>
                        <p class="hangyeol-post-cta-desc">한결 정책자금 전문가가 귀사에 맞는<br class="mobile-br"> 맞춤 컨설팅을 제공해드립니다.<br><br class="desktop-hide">무료심사 신청으로 자금확보<br class="mobile-br"> 가능성을 바로 확인해보세요.</p>
                        <div class="hangyeol-post-cta-buttons">
                            <a href="tel:1688-7483" class="hangyeol-post-cta-phone">
                                <svg viewBox="0 0 24 24"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
                                <span>1688-7483</span>
                            </a>
                            <a href="/#form" class="hangyeol-post-cta-submit">
                                <span>무료심사 신청</span>
                                <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="hangyeol-post-footer">
                    <a href="process.html#board" class="hangyeol-post-back-btn">
                        <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                        <span>목록으로</span>
                    </a>
                    <a href="process.html#form" class="hangyeol-post-cta-btn">
                        <span>무료심사 신청하기</span>
                        <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
                    </a>
                </div>
            </article>

            <!-- 관련 게시글 -->
            <section class="hangyeol-related-section" id="related-section" style="display: none;">
                <h2 class="hangyeol-related-title"><span>관련</span> 게시글</h2>
                <div class="hangyeol-related-grid" id="related-grid"></div>
            </section>
        </main>

        <!-- 사이드바 -->
        <aside class="hangyeol-post-sidebar">
            <div class="hangyeol-sidebar-sticky">
                <!-- 공유하기 -->
                <div class="hangyeol-sidebar-card">
                    <h3 class="hangyeol-sidebar-title">공유하기</h3>
                    <div class="hangyeol-share-buttons">
                        <button class="hangyeol-share-btn" onclick="shareFacebook()" title="페이스북 공유">
                            <svg viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
                        </button>
                        <button class="hangyeol-share-btn" onclick="shareX()" title="X 공유">
                            <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                        </button>
                        <button class="hangyeol-share-btn" onclick="copyLink()" title="링크 복사">
                            <svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
                        </button>
                    </div>
                </div>

                <!-- 글 정보 -->
                <div class="hangyeol-sidebar-card">
                    <h3 class="hangyeol-sidebar-title">글 정보</h3>
                    <ul class="hangyeol-info-list">
                        <li>
                            <span class="hangyeol-info-label">카테고리</span>
                            <span class="hangyeol-info-value" id="info-category">공지</span>
                        </li>
                        <li>
                            <span class="hangyeol-info-label">작성자</span>
                            <span class="hangyeol-info-value">한결</span>
                        </li>
                        <li>
                            <span class="hangyeol-info-label">작성일</span>
                            <span class="hangyeol-info-value" id="info-date">2025.01.01</span>
                        </li>
                        <li>
                            <span class="hangyeol-info-label">조회수</span>
                            <span class="hangyeol-info-value" id="info-views">0</span>
                        </li>
                    </ul>
                </div>

                <!-- 목록 버튼 -->
                <a href="process.html#board" class="hangyeol-sidebar-back">
                    <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                    목록으로 돌아가기
                </a>
            </div>
        </aside>
    </div>
</section>

<!-- 모바일 하단 바 -->
<div class="hangyeol-mobile-bar" id="mobile-bar" style="display: none;">
    <a href="process.html#board" class="hangyeol-mobile-back-btn">
        <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
        목록으로
    </a>
    <button class="hangyeol-mobile-share-btn" onclick="shareNative()">
        <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"/></svg>
    </button>
</div>

<!-- Toast 알림 -->
<div class="hangyeol-toast" id="toast">링크가 복사되었습니다</div>

<!-- ================================================
     FOOTER
     ================================================ -->
<footer class="hangyeol-footer">
    <div class="hangyeol-footer-wrapper">
        <div class="hangyeol-footer-container">
            <div class="hangyeol-footer-top">
                <div class="hangyeol-footer-info">
                    <div class="hangyeol-footer-logo">
                        <img src="white_logo.png" alt="한결 한결 컨설팅" class="hangyeol-footer-logo-image" data-image-id="logo-white">
                    </div>
                    <p class="hangyeol-footer-desc">자금확보 전문 컨설팅 | 기업심사 전문가의 1:1 맞춤 컨설팅</p>
                </div>
            </div>

            <div class="hangyeol-footer-middle">
                <div class="hangyeol-footer-contact">
                    <h4 class="hangyeol-footer-title">Contact</h4>

                    <div class="hangyeol-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M16 12h-3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h3v7z"></path>
                        </svg>
                        <span>대표자: 김현구</span>
                    </div>

                    <div class="hangyeol-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                        <span>사업자등록번호: 252-18-02813</span>
                    </div>

                    <div class="hangyeol-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.13.81.36 1.6.7 2.35a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.75.34 1.54.57 2.35.7A2 2 0 0 1 22 16.92z"></path>
                        </svg>
                        <span>대표전화: 1688-7483</span>
                    </div>

                    <div class="hangyeol-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                            <path d="M12 12l8-5H4l8 5z"></path>
                        </svg>
                        <span>이메일: khg471@naver.com</span>
                    </div>

                    <div class="hangyeol-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                        <span>주소: 경상북도 구미시 옥계북로 36, 802호 Room 5 (옥계동, 메디칼타워)</span>
                    </div>

                    <div class="hangyeol-contact-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        <span>상담시간: 평일 09:00-18:00</span>
                    </div>
                </div>

                <div class="hangyeol-footer-menu">
                    <h4 class="hangyeol-footer-title">Menu</h4>
                    <ul class="hangyeol-footer-list">
                        <li><a href="index.html">홈</a></li>
                        <li><a href="company.html">회사소개</a></li>
                        <li><a href="process.html">진행과정</a></li>
                        <li><a href="fund.html">자금상담</a></li>
                        <li><a href="pro.html">전문서비스</a></li>
                        <li><a href="mkt.html">온라인마케팅</a></li>
                    </ul>
                </div>
            </div>

            <div class="hangyeol-footer-bottom">
                <p class="hangyeol-copyright">© 2025 한결 컨설팅 한결. All rights reserved.</p>
            </div>
        </div>
    </div>
</footer>

<!-- Main JavaScript -->
<script src="js/main.js"></script>
<script src="js/image-loader.js"></script>

<!-- Post Detail Script -->
<script>
(function() {
    const API_URL = '/api/board';

    // URL에서 게시글 ID 또는 슬러그 추출
    const urlParams = new URLSearchParams(window.location.search);
    const postId = urlParams.get('id');
    const postSlug = urlParams.get('slug'); // querystring에서 슬러그

    // DOM 요소
    const loadingEl = document.getElementById('post-loading');
    const errorEl = document.getElementById('post-error');
    const layoutEl = document.getElementById('post-layout');
    const mobileBarEl = document.getElementById('mobile-bar');

    let currentPost = null;
    let allPosts = [];

    // 게시글 로드
    async function loadPost() {
        if (!postId && !postSlug) {
            showError();
            return;
        }

        try {
            // 1. 개별 게시글 조회 (조회수 증가 포함)
            let singlePostUrl = API_URL;
            if (postId) {
                singlePostUrl += `?id=${postId}`;
            } else if (postSlug) {
                singlePostUrl += `?slug=${encodeURIComponent(postSlug)}`;
            }

            const singleResponse = await fetch(singlePostUrl);
            if (!singleResponse.ok) throw new Error('API 호출 실패');

            const singleResult = await singleResponse.json();
            if (!singleResult.success || !singleResult.post) {
                loadDemoPost();
                return;
            }

            const post = singleResult.post;
            currentPost = {
                id: post.id,
                title: post.제목,
                content: post.내용,
                excerpt: post.요약 || (post.내용 || '').substring(0, 100),
                category: post.카테고리 || '공지',
                thumbnail: post.썸네일,
                date: post.작성일,
                views: (post.조회수 || 0) + 1, // 방금 증가된 조회수 반영
                slug: post.슬러그 || ''
            };

            // 2. 관련 게시글용 전체 목록 조회 (별도)
            try {
                const listResponse = await fetch(API_URL);
                if (listResponse.ok) {
                    const listResult = await listResponse.json();
                    if (listResult.success) {
                        allPosts = listResult.posts.map(p => ({
                            id: p.id,
                            title: p.제목,
                            content: p.내용,
                            excerpt: p.요약 || (p.내용 || '').substring(0, 100),
                            category: p.카테고리 || '공지',
                            thumbnail: p.썸네일,
                            date: p.작성일,
                            views: p.조회수 || 0,
                            slug: p.슬러그 || ''
                        }));
                    }
                }
            } catch (e) {
                console.warn('관련 게시글 목록 로드 실패:', e);
            }

            renderPost();
            renderRelatedPosts();

        } catch (error) {
            console.error('게시글 로드 실패:', error);
            loadDemoPost();
        }
    }

    // 데모 데이터
    function loadDemoPost() {
        const demoPosts = {
            '1': {
                id: '1',
                title: '2025년 상반기 정책자금 신청 일정 안내',
                content: '2025년 상반기 정책자금 신청 일정을 안내드립니다.\n\n■ 중소벤처기업부 정책자금\n- 신청기간: 2025년 1월 2일 ~ 6월 30일\n- 대상: 중소기업 및 소상공인\n- 지원한도: 최대 100억원\n\n■ 신용보증기금 보증지원\n- 신청기간: 상시\n- 대상: 신용등급 BB 이상 기업\n- 지원한도: 최대 30억원\n\n■ 기술보증기금 기술평가보증\n- 신청기간: 상시\n- 대상: 기술력 보유 기업\n- 지원한도: 최대 50억원\n\n자세한 내용은 한결로 문의해 주세요.',
                excerpt: '2025년 상반기 정책자금 신청 일정을 확인하세요.',
                category: '공지',
                thumbnail: null,
                date: '2025-01-15',
                views: 1247
            },
            '2': {
                id: '2',
                title: '한결 컨설팅으로 5억 자금 확보 성공 사례',
                content: 'AI 기반 솔루션을 개발하는 스타트업이 한결의 전문 컨설팅을 통해 정책자금 5억원을 성공적으로 확보했습니다.\n\n■ 기업 개요\n- 업종: AI/소프트웨어\n- 창업년도: 2023년\n- 직원 수: 12명\n\n■ 컨설팅 과정\n1. 기업 현황 분석\n2. 적합 자금 매칭\n3. 신청 서류 컨설팅\n4. 심사 대응 지원\n\n■ 결과\n- 확보 금액: 5억원\n- 소요 기간: 약 2개월\n\n"한결 없이는 불가능했을 것입니다. 전문적인 컨설팅에 감사드립니다." - 해당 기업 대표',
                excerpt: '한결 컨설팅을 통해 5억원 자금을 확보한 성공 사례를 소개합니다.',
                category: '뉴스',
                thumbnail: null,
                date: '2025-01-10',
                views: 892
            },
            '3': {
                id: '3',
                title: '정책자금 신청 시 주의해야 할 5가지',
                content: '정책자금 신청 시 반드시 주의해야 할 5가지 사항을 안내드립니다.\n\n1. 서류 준비는 미리미리\n   - 사업계획서, 재무제표, 기술자료 등 필수 서류를 사전에 꼼꼼히 준비하세요.\n\n2. 신용등급 관리\n   - 대표자 및 기업 신용등급이 심사에 큰 영향을 미칩니다.\n\n3. 자금 용도 명확화\n   - 자금 사용 계획을 구체적으로 작성해야 합니다.\n\n4. 일정 확인\n   - 각 정책자금마다 신청 기간이 다르니 미리 확인하세요.\n\n5. 전문가 상담\n   - 경험 많은 전문가의 도움을 받으면 확보 가능성이 높아집니다.',
                excerpt: '정책자금 신청 전 꼭 확인해야 할 5가지 핵심 사항입니다.',
                category: '정보',
                thumbnail: null,
                date: '2025-01-05',
                views: 2156
            }
        };

        currentPost = demoPosts[postId];
        allPosts = Object.values(demoPosts);

        if (currentPost) {
            renderPost();
            renderRelatedPosts();
        } else {
            showError();
        }
    }

    // 에러 표시
    function showError() {
        loadingEl.style.display = 'none';
        errorEl.style.display = 'block';
    }

    // 게시글 렌더링
    function renderPost() {
        loadingEl.style.display = 'none';
        layoutEl.style.display = 'grid';
        mobileBarEl.style.display = '';  // CSS 미디어 쿼리가 처리하도록

        // SEO 메타태그 업데이트
        updateMetaTags(currentPost);

        // 페이지 제목
        document.title = `${currentPost.title} | 한결 컨설팅 한결`;

        // 브레드크럼
        document.getElementById('breadcrumb-category').textContent = currentPost.category;

        // 헤더
        const categoryEl = document.getElementById('post-category');
        categoryEl.textContent = currentPost.category;
        categoryEl.className = 'hangyeol-post-category ' + getCategoryClass(currentPost.category);

        document.getElementById('post-title').textContent = currentPost.title;
        document.getElementById('post-subtitle').textContent = currentPost.excerpt;
        document.getElementById('post-date').textContent = formatDate(currentPost.date);
        document.getElementById('post-views').textContent = `조회 ${currentPost.views.toLocaleString()}`;

        // 썸네일
        if (currentPost.thumbnail) {
            const thumbWrap = document.getElementById('post-thumbnail-wrap');
            const thumbImg = document.getElementById('post-thumbnail');
            thumbImg.src = currentPost.thumbnail;
            thumbImg.alt = currentPost.title;
            thumbWrap.style.display = 'block';
        }

        // 본문
        const formattedContent = formatContent(currentPost.content);
        document.getElementById('post-body').innerHTML = formattedContent;

        // Grid/Flex 컨테이너 내의 빈 p 태그 제거 (레이아웃 깨짐 방지)
        cleanEmptyParagraphs();

        // 사이드바 정보
        document.getElementById('info-category').textContent = currentPost.category;
        document.getElementById('info-date').textContent = formatDate(currentPost.date);
        document.getElementById('info-views').textContent = currentPost.views.toLocaleString();
    }

    // 관련 게시글 렌더링
    function renderRelatedPosts() {
        const relatedSection = document.getElementById('related-section');
        const relatedGrid = document.getElementById('related-grid');

        // 같은 카테고리 우선, 최대 3개
        const sameCategory = allPosts.filter(p => p.id !== currentPost.id && p.category === currentPost.category);
        const others = allPosts.filter(p => p.id !== currentPost.id && p.category !== currentPost.category);
        const related = [...sameCategory, ...others].slice(0, 3);

        if (related.length === 0) {
            relatedSection.style.display = 'none';
            return;
        }

        relatedSection.style.display = 'block';
        relatedGrid.innerHTML = related.map(post => `
            <a href="${post.slug ? `/p/${encodeURIComponent(post.slug)}` : `post.html?id=${post.id}`}" class="hangyeol-related-card">
                <div class="hangyeol-related-thumb">
                    ${post.thumbnail
                        ? `<img src="${post.thumbnail}" alt="${post.title}" loading="lazy">`
                        : `<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5-7l-3 3.72L9 13l-3 4h12l-4-5z"/></svg>`
                    }
                </div>
                <div class="hangyeol-related-content">
                    <span class="hangyeol-related-category">${post.category}</span>
                    <h3 class="hangyeol-related-card-title">${post.title}</h3>
                </div>
            </a>
        `).join('');
    }

    // 카테고리 클래스
    function getCategoryClass(category) {
        if (category === '공지') return 'notice';
        if (category === '뉴스') return 'news';
        if (category === '정보') return 'info';
        return '';
    }

    // 날짜 포맷
    function formatDate(dateStr) {
        if (!dateStr) return '-';
        const date = new Date(dateStr);
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        return `${year}.${month}.${day}`;
    }

    // Grid/Flex 컨테이너 내의 빈 p 태그 제거
    function cleanEmptyParagraphs() {
        const postBody = document.getElementById('post-body');
        if (!postBody) return;

        // Grid/Flex 스타일을 가진 모든 컨테이너 찾기
        const containers = postBody.querySelectorAll('[style*="display:grid"], [style*="display: grid"], [style*="display:flex"], [style*="display: flex"], [style*="grid-template-columns"]');

        containers.forEach(container => {
            // 직접 자식 p 태그 중 빈 것 찾기
            const emptyParagraphs = Array.from(container.children).filter(child => {
                return child.tagName === 'P' && (!child.textContent || child.textContent.trim() === '');
            });

            // 빈 p 태그 제거
            emptyParagraphs.forEach(p => p.remove());

            // 중첩된 컨테이너도 처리
            const nestedContainers = container.querySelectorAll('[style*="display:flex"], [style*="display: flex"]');
            nestedContainers.forEach(nested => {
                const nestedEmpty = Array.from(nested.children).filter(child => {
                    return child.tagName === 'P' && (!child.textContent || child.textContent.trim() === '');
                });
                nestedEmpty.forEach(p => p.remove());
            });
        });
    }

    // 콘텐츠 포맷팅
    function formatContent(content) {
        if (!content) return '';

        let normalized = content.trim();

        // 구조화 패턴 확인
        const hasStructurePatterns = /(■|\d+[\.\)]\s|[•\-\*]\s)/m.test(normalized);

        if (hasStructurePatterns) {
            return formatStructuredContent(normalized);
        }

        // 일반 텍스트
        return normalized
            .split('\n')
            .map(line => {
                const trimmed = line.trim();
                if (!trimmed) return '<div style="height: 16px;"></div>';
                return `<p>${trimmed}</p>`;
            })
            .join('');
    }

    // 구조화된 콘텐츠 포맷팅
    function formatStructuredContent(content) {
        let html = '';
        const lines = content.split('\n');
        let inNumberList = false;
        let inBulletList = false;

        lines.forEach((line, index) => {
            const trimmedLine = line.trim();

            if (!trimmedLine) {
                if (inNumberList) { html += '</ul>'; inNumberList = false; }
                if (inBulletList) { html += '</ul>'; inBulletList = false; }
                html += '<div style="height: 16px;"></div>';
                return;
            }

            // ■ 섹션 제목
            if (trimmedLine.startsWith('■')) {
                if (inNumberList) { html += '</ul>'; inNumberList = false; }
                if (inBulletList) { html += '</ul>'; inBulletList = false; }
                const title = trimmedLine.replace(/^■\s*/, '');
                html += `<div class="section-title">${title}</div>`;
                return;
            }

            // 숫자 리스트 (1. 2. 3.)
            if (/^\d+[\.\)]\s/.test(trimmedLine)) {
                if (inBulletList) { html += '</ul>'; inBulletList = false; }
                if (!inNumberList) {
                    html += '<ul class="number-list">';
                    inNumberList = true;
                }
                const number = trimmedLine.match(/^(\d+)/)[1];
                const text = trimmedLine.replace(/^\d+[\.\)]\s*/, '');
                html += `<li><span class="number-badge">${number}</span><span>${text}</span></li>`;
                return;
            }

            // 하위 항목 (들여쓰기 + -)
            if (/^\s{2,}-\s/.test(line)) {
                const text = line.replace(/^\s*-\s*/, '');
                html += `<div class="sub-item">- ${text}</div>`;
                return;
            }

            // 불릿 리스트 (• - *)
            if (/^[•\-\*]\s/.test(trimmedLine)) {
                if (inNumberList) { html += '</ul>'; inNumberList = false; }
                if (!inBulletList) {
                    html += '<ul class="bullet-list">';
                    inBulletList = true;
                }
                const text = trimmedLine.replace(/^[•\-\*]\s*/, '');
                html += `<li>${text}</li>`;
                return;
            }

            // 일반 텍스트
            if (inNumberList) { html += '</ul>'; inNumberList = false; }
            if (inBulletList) { html += '</ul>'; inBulletList = false; }
            html += `<p>${trimmedLine}</p>`;
        });

        if (inNumberList) html += '</ul>';
        if (inBulletList) html += '</ul>';

        return html;
    }

    // 공유 기능
    window.shareFacebook = function() {
        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`, '_blank', 'width=600,height=400');
    };

    window.shareX = function() {
        window.open(`https://x.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(currentPost.title)}`, '_blank', 'width=600,height=400');
    };

    window.copyLink = function() {
        navigator.clipboard.writeText(window.location.href).then(() => {
            showToast('링크가 복사되었습니다');
        }).catch(() => {
            const input = document.createElement('input');
            input.value = window.location.href;
            document.body.appendChild(input);
            input.select();
            document.execCommand('copy');
            document.body.removeChild(input);
            showToast('링크가 복사되었습니다');
        });
    };

    window.shareNative = function() {
        if (navigator.share) {
            navigator.share({
                title: currentPost.title,
                text: currentPost.excerpt,
                url: window.location.href
            });
        } else {
            copyLink();
        }
    };

    // Toast 표시
    function showToast(message) {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.classList.add('show');
        setTimeout(() => {
            toast.classList.remove('show');
        }, 2000);
    }

    // SEO 메타태그 업데이트
    function updateMetaTags(post) {
        const url = window.location.href;
        const image = post.thumbnail || 'https://www.k-eai.kr/og/og-home.png';
        const description = post.excerpt || post.title;

        updateMeta('description', description);
        updateMeta('og:title', `${post.title} | 한결 컨설팅 한결`, 'property');
        updateMeta('og:description', description, 'property');
        updateMeta('og:image', image, 'property');
        updateMeta('og:url', url, 'property');
        updateMeta('twitter:title', `${post.title} | 한결 컨설팅 한결`);
        updateMeta('twitter:description', description);
        updateMeta('twitter:image', image);

        const canonical = document.querySelector('link[rel="canonical"]');
        if (canonical) canonical.href = url;

        // JSON-LD Article 스키마 추가
        addArticleSchema(post, url, image, description);
    }

    // JSON-LD Article 스키마 생성
    function addArticleSchema(post, url, image, description) {
        // 기존 스키마 제거
        const existing = document.querySelector('script[type="application/ld+json"]');
        if (existing) existing.remove();

        const schema = {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": post.title,
            "description": description,
            "image": image,
            "datePublished": post.date,
            "dateModified": post.date,
            "author": {
                "@type": "Organization",
                "name": "한결 컨설팅 한결",
                "url": "https://www.k-eai.kr"
            },
            "publisher": {
                "@type": "Organization",
                "name": "한결 컨설팅 한결",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://www.k-eai.kr/logo.png"
                }
            },
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": url
            },
            "articleSection": post.category,
            "inLanguage": "ko-KR"
        };

        const script = document.createElement('script');
        script.type = 'application/ld+json';
        script.textContent = JSON.stringify(schema);
        document.head.appendChild(script);
    }

    function updateMeta(name, content, attr = 'name') {
        let meta = document.querySelector(`meta[${attr}="${name}"]`);
        if (meta) {
            meta.setAttribute('content', content);
        }
    }

    // 초기화
    loadPost();
})();
</script>

</body>
</html>
